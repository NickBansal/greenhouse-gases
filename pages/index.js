import React from 'react';
import Head from 'next/head';
import { useQuery } from 'react-query';
import http from '../services/http';
import DATA from '../constants/api';

export default function Home() {
  const { isLoading, isError, data } = useQuery(
    ['getCities'],
    () => http.get({
      url: DATA.GET_DATA,
    }),
    { refetchOnWindowFocus: false },
  );

  return (
    <div>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
      </Head>

      <main>
        {isLoading && <h2>Loading...</h2>}

        {isError && <h2>There is an error here...</h2>}

        {data?.success && <h2>HELLO</h2>}

      </main>

    </div>
  );
}
